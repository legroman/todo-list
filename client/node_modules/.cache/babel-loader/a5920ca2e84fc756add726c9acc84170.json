{"ast":null,"code":"var _jsxFileName = \"D:\\\\JsReactProjects\\\\my-todo-list\\\\client\\\\src\\\\pages\\\\auth\\\\Login-container.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Login } from \"./Login\";\nimport { login, logout } from \"../../store/user/actions\";\nimport { setUsername, setPassword } from \"../../store/auth-register/actions\";\n\nclass LoginContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleChangeUsername = event => this.props.setUsername(event);\n\n    this.handleChangePassword = event => this.props.setPassword(event);\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.props.singIn;\n      const user = {\n        username,\n        password\n      };\n      axios.post('/login', user).then(res => {\n        this.props.login({ ...res.data,\n          isAuthenticated: true\n        });\n        this.props.setUsername(\"\");\n        this.props.setPassword(\"\");\n      }).catch(err => window.M.toast({\n        html: err.response.data.message\n      }));\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.props.singIn;\n    return /*#__PURE__*/React.createElement(Login, {\n      username: username,\n      password: password,\n      onSubmitForm: this.handleOnSubmit,\n      onChangeUser: this.handleChangeUsername,\n      onChangePassword: this.handleChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    singIn: state.registerForm,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = {\n  setUsername,\n  setPassword,\n  login,\n  logout\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","map":{"version":3,"sources":["D:/JsReactProjects/my-todo-list/client/src/pages/auth/Login-container.js"],"names":["React","Component","connect","axios","Login","login","logout","setUsername","setPassword","LoginContainer","handleChangeUsername","event","props","handleChangePassword","handleOnSubmit","preventDefault","username","password","singIn","user","post","then","res","data","isAuthenticated","catch","err","window","M","toast","html","response","message","render","mapStateToProps","state","registerForm","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,SAApB;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,0BAA5B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,mCAAvC;;AAEA,MAAMC,cAAN,SAA6BR,SAA7B,CAAuC;AAAA;AAAA;;AAAA,SACnCS,oBADmC,GACZC,KAAK,IAAI,KAAKC,KAAL,CAAWL,WAAX,CAAuBI,KAAvB,CADG;;AAAA,SAEnCE,oBAFmC,GAEZF,KAAK,IAAI,KAAKC,KAAL,CAAWJ,WAAX,CAAuBG,KAAvB,CAFG;;AAAA,SAInCG,cAJmC,GAIlBH,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACI,cAAN;AACA,YAAM;AAACC,QAAAA,QAAD;AAAWC,QAAAA;AAAX,UAAuB,KAAKL,KAAL,CAAWM,MAAxC;AAEA,YAAMC,IAAI,GAAG;AAACH,QAAAA,QAAD;AAAWC,QAAAA;AAAX,OAAb;AAEAd,MAAAA,KAAK,CAACiB,IAAN,CAAW,QAAX,EAAqBD,IAArB,EACKE,IADL,CACUC,GAAG,IAAI;AACT,aAAKV,KAAL,CAAWP,KAAX,CAAiB,EAAC,GAAGiB,GAAG,CAACC,IAAR;AAAcC,UAAAA,eAAe,EAAE;AAA/B,SAAjB;AACA,aAAKZ,KAAL,CAAWL,WAAX,CAAuB,EAAvB;AACA,aAAKK,KAAL,CAAWJ,WAAX,CAAuB,EAAvB;AACH,OALL,EAMKiB,KANL,CAMWC,GAAG,IAAIC,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe;AAACC,QAAAA,IAAI,EAAEJ,GAAG,CAACK,QAAJ,CAAaR,IAAb,CAAkBS;AAAzB,OAAf,CANlB;AAOH,KAjBkC;AAAA;;AAmBnCC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACjB,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuB,KAAKL,KAAL,CAAWM,MAAxC;AACA,wBAAO,oBAAC,KAAD;AACH,MAAA,QAAQ,EAAEF,QADP;AAEH,MAAA,QAAQ,EAAEC,QAFP;AAGH,MAAA,YAAY,EAAE,KAAKH,cAHhB;AAIH,MAAA,YAAY,EAAE,KAAKJ,oBAJhB;AAKH,MAAA,gBAAgB,EAAE,KAAKG,oBALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAOH;;AA5BkC;;AA+BvC,MAAMqB,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHjB,IAAAA,MAAM,EAAEiB,KAAK,CAACC,YADX;AAEHJ,IAAAA,OAAO,EAAEG,KAAK,CAACH;AAFZ,GAAP;AAIH,CALD;;AAOA,MAAMK,kBAAkB,GAAG;AACvB9B,EAAAA,WADuB;AAEvBC,EAAAA,WAFuB;AAGvBH,EAAAA,KAHuB;AAIvBC,EAAAA;AAJuB,CAA3B;AAOA,eAAeJ,OAAO,CAACgC,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C5B,cAA7C,CAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {Login} from \"./Login\";\r\nimport {login, logout} from \"../../store/user/actions\";\r\nimport {setUsername, setPassword} from \"../../store/auth-register/actions\";\r\n\r\nclass LoginContainer extends Component {\r\n    handleChangeUsername = event => this.props.setUsername(event);\r\n    handleChangePassword = event => this.props.setPassword(event);\r\n\r\n    handleOnSubmit = event => {\r\n        event.preventDefault();\r\n        const {username, password} = this.props.singIn;\r\n\r\n        const user = {username, password};\r\n\r\n        axios.post('/login', user)\r\n            .then(res => {\r\n                this.props.login({...res.data, isAuthenticated: true});\r\n                this.props.setUsername(\"\");\r\n                this.props.setPassword(\"\");\r\n            })\r\n            .catch(err => window.M.toast({html: err.response.data.message}));\r\n    };\r\n\r\n    render() {\r\n        const {username, password} = this.props.singIn;\r\n        return <Login\r\n            username={username}\r\n            password={password}\r\n            onSubmitForm={this.handleOnSubmit}\r\n            onChangeUser={this.handleChangeUsername}\r\n            onChangePassword={this.handleChangePassword}\r\n        />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        singIn: state.registerForm,\r\n        message: state.message\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setUsername,\r\n    setPassword,\r\n    login,\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);"]},"metadata":{},"sourceType":"module"}