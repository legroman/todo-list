{"ast":null,"code":"var _jsxFileName = \"D:\\\\JsReactProjects\\\\my-todo-list\\\\client\\\\src\\\\pages\\\\auth\\\\Login-container.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Login } from \"./Login\";\nimport { setUsername, setPassword, setAuthenticated } from \"../../store/auth-register/actions\";\n\nclass LoginContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleChangeUsername = event => this.props.setUsername(event);\n\n    this.handleChangePassword = event => this.props.setPassword(event);\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      this.props.setAuthenticated(true);\n      const {\n        username,\n        password\n      } = this.props.singIn;\n      const user = {\n        username,\n        password\n      };\n      axios.post('http://localhost:5000/login', user).then(res => {\n        // this.props.setAuthenticated(true);\n        localStorage.setItem('userData', JSON.stringify(res.data));\n        console.log(res.data);\n        this.props.setUsername(\"\");\n        this.props.setPassword(\"\");\n      }).catch(err => window.M.toast({\n        html: err.response.data.message\n      }));\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.props.singIn;\n    return /*#__PURE__*/React.createElement(Login, {\n      username: username,\n      password: password,\n      onSubmitForm: this.handleOnSubmit,\n      onChangeUser: this.handleChangeUsername,\n      onChangePassword: this.handleChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    singIn: state.registerForm,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = {\n  setUsername,\n  setPassword,\n  setAuthenticated\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","map":{"version":3,"sources":["D:/JsReactProjects/my-todo-list/client/src/pages/auth/Login-container.js"],"names":["React","Component","connect","axios","Login","setUsername","setPassword","setAuthenticated","LoginContainer","handleChangeUsername","event","props","handleChangePassword","handleOnSubmit","preventDefault","username","password","singIn","user","post","then","res","localStorage","setItem","JSON","stringify","data","console","log","catch","err","window","M","toast","html","response","message","render","mapStateToProps","state","registerForm","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,SAApB;AACA,SAAQC,WAAR,EAAqBC,WAArB,EAAkCC,gBAAlC,QAAyD,mCAAzD;;AAEA,MAAMC,cAAN,SAA6BP,SAA7B,CAAuC;AAAA;AAAA;;AAAA,SACnCQ,oBADmC,GACZC,KAAK,IAAI,KAAKC,KAAL,CAAWN,WAAX,CAAuBK,KAAvB,CADG;;AAAA,SAEnCE,oBAFmC,GAEZF,KAAK,IAAI,KAAKC,KAAL,CAAWL,WAAX,CAAuBI,KAAvB,CAFG;;AAAA,SAInCG,cAJmC,GAIlBH,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACI,cAAN;AACA,WAAKH,KAAL,CAAWJ,gBAAX,CAA4B,IAA5B;AACA,YAAM;AAACQ,QAAAA,QAAD;AAAWC,QAAAA;AAAX,UAAuB,KAAKL,KAAL,CAAWM,MAAxC;AAEA,YAAMC,IAAI,GAAG;AAACH,QAAAA,QAAD;AAAWC,QAAAA;AAAX,OAAb;AAEAb,MAAAA,KAAK,CAACgB,IAAN,CAAW,6BAAX,EAA0CD,IAA1C,EACKE,IADL,CACUC,GAAG,IAAI;AACT;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAjC;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACK,IAAhB;AACA,aAAKf,KAAL,CAAWN,WAAX,CAAuB,EAAvB;AACA,aAAKM,KAAL,CAAWL,WAAX,CAAuB,EAAvB;AACH,OAPL,EAQKuB,KARL,CAQWC,GAAG,IAAIC,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe;AAACC,QAAAA,IAAI,EAAEJ,GAAG,CAACK,QAAJ,CAAaT,IAAb,CAAkBU;AAAzB,OAAf,CARlB;AASH,KApBkC;AAAA;;AAsBnCC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACtB,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuB,KAAKL,KAAL,CAAWM,MAAxC;AACA,wBAAO,oBAAC,KAAD;AACH,MAAA,QAAQ,EAAEF,QADP;AAEH,MAAA,QAAQ,EAAEC,QAFP;AAGH,MAAA,YAAY,EAAE,KAAKH,cAHhB;AAIH,MAAA,YAAY,EAAE,KAAKJ,oBAJhB;AAKH,MAAA,gBAAgB,EAAE,KAAKG,oBALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAOH;;AA/BkC;;AAkCvC,MAAM0B,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHtB,IAAAA,MAAM,EAAEsB,KAAK,CAACC,YADX;AAEHJ,IAAAA,OAAO,EAAEG,KAAK,CAACH;AAFZ,GAAP;AAIH,CALD;;AAOA,MAAMK,kBAAkB,GAAG;AACvBpC,EAAAA,WADuB;AAEvBC,EAAAA,WAFuB;AAGvBC,EAAAA;AAHuB,CAA3B;AAMA,eAAeL,OAAO,CAACoC,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CjC,cAA7C,CAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {Login} from \"./Login\";\r\nimport {setUsername, setPassword, setAuthenticated} from \"../../store/auth-register/actions\";\r\n\r\nclass LoginContainer extends Component {\r\n    handleChangeUsername = event => this.props.setUsername(event);\r\n    handleChangePassword = event => this.props.setPassword(event);\r\n\r\n    handleOnSubmit = event => {\r\n        event.preventDefault();\r\n        this.props.setAuthenticated(true);\r\n        const {username, password} = this.props.singIn;\r\n\r\n        const user = {username, password};\r\n\r\n        axios.post('http://localhost:5000/login', user)\r\n            .then(res => {\r\n                // this.props.setAuthenticated(true);\r\n                localStorage.setItem('userData', JSON.stringify(res.data));\r\n                console.log(res.data);\r\n                this.props.setUsername(\"\");\r\n                this.props.setPassword(\"\");\r\n            })\r\n            .catch(err => window.M.toast({html: err.response.data.message}));\r\n    };\r\n\r\n    render() {\r\n        const {username, password} = this.props.singIn;\r\n        return <Login\r\n            username={username}\r\n            password={password}\r\n            onSubmitForm={this.handleOnSubmit}\r\n            onChangeUser={this.handleChangeUsername}\r\n            onChangePassword={this.handleChangePassword}\r\n        />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        singIn: state.registerForm,\r\n        message: state.message\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setUsername,\r\n    setPassword,\r\n    setAuthenticated,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);"]},"metadata":{},"sourceType":"module"}