{"ast":null,"code":"var _jsxFileName = \"D:\\\\JsReactProjects\\\\my-todo-list\\\\client\\\\src\\\\pages\\\\auth\\\\Login-container.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Login } from \"./Login\";\nimport { setUsername, setPassword, setAuthenticated, setAuthForm } from \"../../store/auth-register/actions\";\n\nclass LoginContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleChangeUsername = event => this.props.setUsername(event);\n\n    this.handleChangePassword = event => this.props.setPassword(event);\n\n    this.handleOnClick = event => {\n      event.preventDefault();\n      this.props.setAuthForm(\"login\");\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.props.singIn;\n      const user = {\n        username,\n        password\n      };\n      axios.post('http://localhost:5000/login', user).then(res => {\n        this.props.setAuthenticated(true);\n        console.log(res.data);\n      }).catch(err => window.M.toast({\n        html: err.response.data.message\n      }));\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.props.singIn;\n    return /*#__PURE__*/React.createElement(Login, {\n      username: username,\n      password: password,\n      onSubmitForm: this.handleOnSubmit,\n      onChangeUser: this.handleChangeUsername,\n      onChangePassword: this.handleChangePassword,\n      goRegister: this.handleOnClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    singIn: state.registerForm,\n    message: state.message\n  };\n};\n\nconst mapDispatchToProps = {\n  setUsername,\n  setPassword,\n  setAuthenticated,\n  setAuthForm\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);","map":{"version":3,"sources":["D:/JsReactProjects/my-todo-list/client/src/pages/auth/Login-container.js"],"names":["React","Component","connect","axios","Login","setUsername","setPassword","setAuthenticated","setAuthForm","LoginContainer","handleChangeUsername","event","props","handleChangePassword","handleOnClick","preventDefault","handleOnSubmit","username","password","singIn","user","post","then","res","console","log","data","catch","err","window","M","toast","html","response","message","render","mapStateToProps","state","registerForm","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,SAApB;AACA,SAAQC,WAAR,EAAqBC,WAArB,EAAkCC,gBAAlC,EAAoDC,WAApD,QAAsE,mCAAtE;;AAEA,MAAMC,cAAN,SAA6BR,SAA7B,CAAuC;AAAA;AAAA;;AAAA,SACnCS,oBADmC,GACZC,KAAK,IAAI,KAAKC,KAAL,CAAWP,WAAX,CAAuBM,KAAvB,CADG;;AAAA,SAEnCE,oBAFmC,GAEZF,KAAK,IAAI,KAAKC,KAAL,CAAWN,WAAX,CAAuBK,KAAvB,CAFG;;AAAA,SAInCG,aAJmC,GAInBH,KAAK,IAAI;AACrBA,MAAAA,KAAK,CAACI,cAAN;AACA,WAAKH,KAAL,CAAWJ,WAAX,CAAuB,OAAvB;AACH,KAPkC;;AAAA,SASnCQ,cATmC,GASlBL,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACI,cAAN;AAEA,YAAM;AAACE,QAAAA,QAAD;AAAWC,QAAAA;AAAX,UAAuB,KAAKN,KAAL,CAAWO,MAAxC;AAEA,YAAMC,IAAI,GAAG;AAACH,QAAAA,QAAD;AAAWC,QAAAA;AAAX,OAAb;AAEAf,MAAAA,KAAK,CAACkB,IAAN,CAAW,6BAAX,EAA0CD,IAA1C,EACKE,IADL,CACUC,GAAG,IAAI;AACT,aAAKX,KAAL,CAAWL,gBAAX,CAA4B,IAA5B;AACAiB,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACH,OAJL,EAKKC,KALL,CAKWC,GAAG,IAAIC,MAAM,CAACC,CAAP,CAASC,KAAT,CAAe;AAACC,QAAAA,IAAI,EAAEJ,GAAG,CAACK,QAAJ,CAAaP,IAAb,CAAkBQ;AAAzB,OAAf,CALlB;AAMH,KAtBkC;AAAA;;AAwBnCC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAClB,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAuB,KAAKN,KAAL,CAAWO,MAAxC;AACA,wBAAO,oBAAC,KAAD;AACH,MAAA,QAAQ,EAAEF,QADP;AAEH,MAAA,QAAQ,EAAEC,QAFP;AAGH,MAAA,YAAY,EAAE,KAAKF,cAHhB;AAIH,MAAA,YAAY,EAAE,KAAKN,oBAJhB;AAKH,MAAA,gBAAgB,EAAE,KAAKG,oBALpB;AAMH,MAAA,UAAU,EAAE,KAAKC,aANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAQH;;AAlCkC;;AAqCvC,MAAMsB,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHlB,IAAAA,MAAM,EAAEkB,KAAK,CAACC,YADX;AAEHJ,IAAAA,OAAO,EAAEG,KAAK,CAACH;AAFZ,GAAP;AAIH,CALD;;AAOA,MAAMK,kBAAkB,GAAG;AACvBlC,EAAAA,WADuB;AAEvBC,EAAAA,WAFuB;AAGvBC,EAAAA,gBAHuB;AAIvBC,EAAAA;AAJuB,CAA3B;AAOA,eAAeN,OAAO,CAACkC,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C9B,cAA7C,CAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {Login} from \"./Login\";\r\nimport {setUsername, setPassword, setAuthenticated, setAuthForm} from \"../../store/auth-register/actions\";\r\n\r\nclass LoginContainer extends Component {\r\n    handleChangeUsername = event => this.props.setUsername(event);\r\n    handleChangePassword = event => this.props.setPassword(event);\r\n\r\n    handleOnClick = event => {\r\n        event.preventDefault();\r\n        this.props.setAuthForm(\"login\");\r\n    };\r\n\r\n    handleOnSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        const {username, password} = this.props.singIn;\r\n\r\n        const user = {username, password};\r\n\r\n        axios.post('http://localhost:5000/login', user)\r\n            .then(res => {\r\n                this.props.setAuthenticated(true);\r\n                console.log(res.data);\r\n            })\r\n            .catch(err => window.M.toast({html: err.response.data.message}));\r\n    };\r\n\r\n    render() {\r\n        const {username, password} = this.props.singIn;\r\n        return <Login\r\n            username={username}\r\n            password={password}\r\n            onSubmitForm={this.handleOnSubmit}\r\n            onChangeUser={this.handleChangeUsername}\r\n            onChangePassword={this.handleChangePassword}\r\n            goRegister={this.handleOnClick}\r\n        />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        singIn: state.registerForm,\r\n        message: state.message\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setUsername,\r\n    setPassword,\r\n    setAuthenticated,\r\n    setAuthForm\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);"]},"metadata":{},"sourceType":"module"}